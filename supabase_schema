#supabase schema
#flight_prices Table
create table flight_prices (
    id bigint generated by default as identity primary key,
    timestamp timestamptz default now(),
    origin text not null,
    destination text not null,
    origin_region text,
    destination_region text,
    departure_date date not null,
    cabin_class text,
    airline text,
    source text,
    min_price integer,
    currency text,
    booking_url text,
    is_mistake_fare boolean default false
);

#flight_price_sources Table
create table flight_price_sources (
    id bigint generated by default as identity primary key,
    flight_price_id bigint references flight_prices(id) on delete cascade,
    booking_source text,
    booking_url text,
    price integer,
    currency text,
    region text
);
